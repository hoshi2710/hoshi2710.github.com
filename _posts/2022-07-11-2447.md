---
layout: post
title: 'BOJ - [Array - 2447 별찍기 - 10] - GOLD IV🥇'
date: 2022-07-11
author: Hoshi
cover: '/assets/img/back1.png'
tags: 백준 Array 백준_Gold
categories: "백준"
---

# 문제
![]({{site.url}}/assets/img/posts_img/2447.png)
[https://www.acmicpc.net/problem/2447](https://www.acmicpc.net/problem/2447)

# 풀이

이 문제에서 나오는 예시출력을 보니 고등학교 미적분 과정의 무한등비급수 단원에 출현하는 문제중 무한 등비 급수를 활용한 도형의 넓이를 구하는 문제가 먼저 떠올랐다.

![]({{site.url}}/assets/img/posts_img/2447-1.png)

**(대충 요런거…)** 출처 : [https://m.blog.naver.com/jamogenius/220886627296](https://m.blog.naver.com/jamogenius/220886627296)

좀더 조사해보니 이런 도형을 **프랙탈** **도형(fractal pattern)** 이라고 한다고 한다.

배경 지식은 요정도면 된것 같고 이 문제를 살펴보면 아래와 같은 문양이 점점 작아지면서 갯수가 많아지며 반복되며 프랙탈 도형의 형태를 띄는 것을 확인할 수 있다.

```c
***
* *
***
```

그래서 나는 프랙탈 도형이 그려지는 과정을 그대로 소스코드에 적용해보기로 했다.

*바로 큰 도형을 먼저 그리고 그 이후 작은 도형을 그위에 덮어 씌우고 그 과정을 반복하도록 하는 것이다.*

예를들어 입력 값이 **27**일때

```c
***************************
***************************
***************************
***************************
***************************
***************************
***************************
***************************
***************************
*********         *********
*********         *********
*********         *********
*********         *********
*********         *********
*********         *********
*********         *********
*********         *********
*********         *********
***************************
***************************
***************************
***************************
***************************
***************************
***************************
***************************
***************************
```

처음에는 이런 모양으로 별을 삽입한다음

```c
*********
*********
*********
***   ***
***   ***
***   ***
*********
*********
*********
```

이 도형을 공백이 모여있는 가운데를 제외하고 붙여

```c
***************************
***************************
***************************
***   ******   ******   ***
***   ******   ******   ***
***   ******   ******   ***
***************************
***************************
***************************
*********         *********
*********         *********
*********         *********
***   ***         ***   ***
***   ***         ***   ***
***   ***         ***   ***
*********         *********
*********         *********
*********         *********
***************************
***************************
***************************
***   ******   ******   ***
***   ******   ******   ***
***   ******   ******   ***
***************************
***************************
***************************
```

이런 문양을 만들어내고 또 더 작은 문양을 만들고 위와 같은 과정을 반복하도록 한다.

# 소스

```c
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <stdbool.h>

int n,cursor[2]={0,0}; // '*' = side_length , ' ' = side_length / 3, cursor = {x,y}
bool arr [6561][6561],src [6561][6561];
void set(int side_length)
{
	///////// arr 배열 초기화 /////////
	if(side_length == n)
		for(int i=0; i<n; i++)
			memset(arr[i],true,sizeof(bool)*n);
	///////// src 배열 설정 //////////
	for(int i=0; i<side_length; i++)	//별 찍기
		memset(src+i,true,side_length);
	int center = side_length/3;
	for(int i=center; i<center+(side_length/3); i++)  //빈칸 추가
		memset(src[i]+(side_length/3),false,center);
	/////////src 에서 만든 패턴 arr로 규칙에 맞춰 복사///////////
	for(cursor[1] = 0; cursor[1]<n; cursor[1]+=side_length)
		for(cursor[0] = 0; cursor[0]<n; cursor[0] += side_length)
			for(int i=0; i<side_length; i++)
				if(*(arr[cursor[1]+i]+cursor[0]) != false)
					memcpy(arr[cursor[1]+i]+cursor[0],src[i],sizeof(bool)*side_length);		
	if(side_length > 3)
		set(side_length/3);
}
int main()
{
	scanf("%d",&n);
	set(n);
	for(int i=0; i<n; i++) // 테스트 출력
	{
		for(int j=0; j<n; j++)
			printf("%c",arr[i][j] ? '*':' ');
		printf("\n");
	}
	return 0;
}
```

내 소스 기준으로 src배열에 점점 작아지는 문양을 만들고 그 문양들을 arr배열에 붙여 문양을 만들도록 하였다.